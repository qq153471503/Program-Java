/**
 * 控制线程结束方式 
 * 
 * 
 * 定义标志
 * 
 * 
 * */
public class ThreadCommunicaitonDemo4 {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		
		Demo d = new Demo();
		Thread t1 = new Thread(d);
		Thread t2 = new Thread(d);
		t1.start();
		t2.start();
		
		int cnt=0;
		for(;;){
			if(cnt++ == 50){
				d.setFlag(false);
				break;
			}
			System.out.println("main"+cnt);
		}

		System.out.println("over...");
	}

}


class Demo implements Runnable{
	
	private boolean flag = true;
	public void run() {
		
		while(flag) {
			System.out.println(Thread.currentThread().getName()+"...run");
		}
	}
	
	public void setFlag(boolean flag) {
		this.flag = flag;
	}
}

